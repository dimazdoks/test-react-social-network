{"version":3,"sources":["hoc/AuthRedirect.jsx","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["mapStateToPropsRedirect","state","isAuth","auth","withAuthRedirect","Component","connect","props","to","module","exports","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","autoFocus","onBlur","updateStatus","onChange","e","currentTarget","value","onDoubleClick","ProfileInfo","profile","contacts","Object","getOwnPropertyNames","className","s","content","header","src","descriptionBlock","avatar","photos","large","photoUrl","fullName","aboutMe","map","inf","href","Preloader","Post","item","alt","message","likesCount","maxLength50","maxLengthCreator","AddMyPostReduxFrom","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","placeholder","name","validate","required","MyPosts","postsItems","posts","p","like","postsBlock","addPost","newPostBody","MyPostsContainer","profilePage","newPostText","dispatch","text","addPostActionCreator","Profile","store","ProfileContainer","id","this","match","params","userId","getProfile","getStatus","React","compose","withRouter"],"mappings":"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","file":"static/js/3.7f39a845.chunk.js","sourcesContent":["import React from \"react\";\nimport {Redirect} from \"react-router-dom\";\nimport {connect} from \"react-redux\";\n\nfunction mapStateToPropsRedirect(state) {\n    return {\n        isAuth: state.auth.isAuth\n    };\n}\n\nexport const withAuthRedirect = (Component) => {\n    function RedirectComponent(props) {\n        if (props.isAuth)\n            return <Component {...props}/>;\n        else\n            return <Redirect to='/login' />;\n    }\n\n    return connect(mapStateToPropsRedirect)(RedirectComponent);\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"ProfileInfo_header__3Z9mI\",\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3cd8Y\",\"avatar\":\"ProfileInfo_avatar__3xuFq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__2ifKf\",\"posts\":\"MyPosts_posts__3tZ1c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__ihtu9\"};","import React, {useEffect, useState} from \"react\";\n\nconst ProfileStatusWithHooks = (props) => {\n\n    let [editMode, setEditMode] = useState(false);\n    let [status, setStatus] = useState(props.status);\n\n    useEffect(() => {\n        setStatus(props.status);\n    }, [props.status]);\n\n    const activateEditMode = () => {\n        setEditMode(true);\n    };\n    const deactivateEditMode = () => {\n        setEditMode(false);\n        props.updateStatus(status);\n    };\n\n    const onStatusChange = (e) => {\n        setStatus(e.currentTarget.value);\n    };\n\n    return <div>\n        {!editMode\n            ? <span onDoubleClick={activateEditMode}>{props.status || '- - - - -'}</span>\n            : <input autoFocus={true} onBlur={deactivateEditMode}\n                     onChange={onStatusChange} value={status}/>\n        }\n    </div>\n};\n\nexport default ProfileStatusWithHooks;","import React from 'react';\nimport s from './ProfileInfo.module.css';\nimport Preloader from \"../../common/Preloader/Preloader\";\nimport photoUrl from '../../../assets/images/user_default.png';\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\n\nfunction ProfileInfo(props) {\n    if (!props.profile) return <Preloader/>;\n    else {\n        let contacts = Object.getOwnPropertyNames(props.profile.contacts);\n        return (\n            <div className={s.content}>\n                <div className={s.header}>\n                    <img src=\"https://openimagedenoise.github.io/images/moana_16spp_oidn.jpg\"></img>\n                </div>\n                <div className={s.descriptionBlock}>\n                    <div className={s.avatar}>\n                        <img src={props.profile.photos.large ? props.profile.photos.large : photoUrl}/>\n                    </div>\n\n                    {/* profile status */}\n                    <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus}/>\n\n                    <div>\n                        <h3>{props.profile.fullName}</h3>\n                        <p>{props.profile.aboutMe}</p>\n                        {\n                            contacts.map(inf =>\n                                props.profile.contacts[inf] &&\n                                <p> {inf}:\n                                    <a href={`https://www.${props.profile.contacts[inf]}`}> {props.profile.contacts[inf]}</a>\n                                </p>)\n                        }\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default ProfileInfo;","import React from 'react';\nimport s from './Post.module.css';\n\nfunction Post(props) {\n    return (\n        <div className={s.item}>\n            <img src=\"https://cdn.iconscout.com/icon/free/png-256/avatar-370-456322.png\" alt=\"\"/>\n            {props.message}\n            <div>\n                <span>like {props.likesCount} </span>\n            </div>\n        </div>\n    );\n}\n\nexport default Post;","import React from 'react';\nimport s from './MyPosts.module.css';\nimport Post from './Post/Post';\nimport {Field, reduxForm} from \"redux-form\";\nimport {maxLengthCreator, required} from \"../../../utils/validators/validator\";\nimport {Textarea} from \"../../common/FormsControls/FormsControl\";\n\nconst MyPosts = (props) => {\n    let postsItems = props.posts.map(p => <Post message={p.message} likesCount={p.like}/>);\n\n    let addNewPost = (value) => {\n        props.addPost(value.newPostBody);\n    };\n\n    return (\n        <div className={s.postsBlock}>\n            <h2>My posts</h2>\n\n            <AddMyPostReduxFrom onSubmit={addNewPost}/>\n\n            <div className={s.posts}>\n                {postsItems}\n            </div>\n        </div>\n    );\n};\n\nconst maxLength50 = maxLengthCreator(50);\n\nconst AddMyPostFrom = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <div>\n                <div>\n                    <Field component={Textarea} placeholder={'write some text'}\n                           name={'newPostBody'} validate={[required, maxLength50]}/>\n                </div>\n                <div>\n                    <button>Add post</button>\n                </div>\n            </div>\n        </form>\n    );\n};\n\nconst AddMyPostReduxFrom = reduxForm({form: 'posts'})(AddMyPostFrom);\nexport default MyPosts;","import MyPosts from \"./MyPosts\";\nimport {addPostActionCreator, updateNewPostTextActionCreator} from \"../../../redux/profile-reducer\";\nimport {connect} from \"react-redux\";\n\nfunction mapStateToProps(state) {\n    return {\n        posts: state.profilePage.posts,\n        newPostText: state.profilePage.newPostText\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        addPost: (text) => {\n            dispatch(addPostActionCreator(text));\n        }\n    }\n}\n\nlet MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\nexport default MyPostsContainer;","import React from 'react';\nimport s from './Profile.module.css';\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\n\n\nfunction Profile(props) {\n    return (\n        <div className={s.content}>\n            <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\n            <MyPostsContainer store={props.store}/>\n        </div>\n    );\n}\n\nexport default Profile;","import React from \"react\";\nimport Profile from \"./Profile\";\nimport {connect} from \"react-redux\";\nimport {getProfile, getStatus, updateStatus} from \"../../redux/profile-reducer\";\nimport {withRouter} from \"react-router-dom\";\nimport {withAuthRedirect} from \"../../hoc/AuthRedirect\";\nimport {compose} from \"redux\";\n\nclass ProfileContainer extends React.Component {\n    componentDidMount() {\n        let id = this.props.match.params.userId || this.props.userId;\n        this.props.getProfile(id);\n        this.props.getStatus(id);\n    }\n\n    render() {\n        return <Profile {...this.props}\n                        profile={this.props.profile}\n                        status={this.props.status}\n                        updateStatus={this.props.updateStatus}/>\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        profile: state.profilePage.profile,\n        status: state.profilePage.status,\n        userId: state.auth.userId\n    };\n}\n\nexport default compose(\n    connect(mapStateToProps, {getProfile, getStatus, updateStatus}),\n    withRouter,\n    withAuthRedirect\n)(ProfileContainer);"],"sourceRoot":""}